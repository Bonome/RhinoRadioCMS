{% import "_macros.html" as macros %}

<section id="left-panel">
<h2>Podcasts</h2>

{% for podcast in podcasts %}
<article class="list-elem">
    <a class="content-link" href="{{ url_for('main.play', id=podcast.id) }}">
        {% include 'svg/small_play.svg' %}</a>
    <a class="content-link"
       href="{{ url_for('main.podcast', id=podcast.id) }}">{{ podcast.name }}
    </a>

    <p><a>
        {{ podcast.channel.name }}
    </a></p>
    <p>
        {% for collective in podcast.collectives -%}
        <a class="content-link" href="{{ url_for('main.collective', id=collective.id) }}">{{ collective.name }}</a>
        {%- if not loop.last %}, {% endif -%}
        {%- endfor %}
    </p>
    <p>
        {% for contributor in podcast.contributors -%}
        <a class="content-link" href="{{ url_for('main.contributor', id=contributor.id) }}">{{ contributor.name }}</a>
        {%- if not loop.last %}, {% endif -%}
        {%- endfor %}
    </p>


    <p>{{ podcast.timestamp|format_date }}</p>

    {{ podcast.description|safe|truncate(100, False) }}
</article>
{% endfor %}

<div class="pagination">
{{ macros.pagination_widget(pagination, 'main.podcasts') }}
</div>

</section>

<section id="right-panel">
<h2>Selecteur</h2>
<p>Les selecteurs par type, date, etc. arriveront plus tard.</p>
</section>
